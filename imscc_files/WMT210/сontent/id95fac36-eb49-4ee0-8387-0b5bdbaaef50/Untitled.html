<!DOCTYPE html>
<html lang="en"><head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/shared/LCS_HTML_Templates/CSPS_Template_2021/_assets/thirdpartylib/bootstrap-4.3.1/css/bootstrap.min.css">
  <!-- Font Awesome CSS -->
  <link rel="stylesheet" href="/shared/LCS_HTML_Templates/CSPS_Template_2021/_assets/thirdpartylib/fontawesome-free-5.9.0-web/css/all.min.css">
  <!-- Template CSS -->
  <link rel="stylesheet" href="/shared/LCS_HTML_Templates/CSPS_Template_2021/_assets/css/styles.min.css">
  <link rel="stylesheet" href="/shared/LCS_HTML_Templates/CSPS_Template_2021/_assets/css/custom.css">
    <style>
    .data .card-graphic, .data .card-standard {
    border-color: #3F2A56;
}
  </style>
  <style>
    .checkbox-container {
       display: block;
       position: relative;
       padding-left: 35px;
       margin-bottom: 12px;
       cursor: pointer;
       font-size: 22px;
       -webkit-user-select: none;
       -moz-user-select: none;
       -ms-user-select: none;
       user-select: none;
    }

    /* Hide the browser's default checkbox */
    .checkbox-container input {
       position: absolute;
       opacity: 0;
       cursor: pointer;
       height: 0;
       width: 0;
    }

    /* Create a custom checkbox */
    .checkmark {
       position: absolute;
       top: 0;
       left: 0;
       height: 25px;
       width: 25px;
       background-color: #eee;
       border: 1px solid #ccc;
    }

    /* On mouse-over, add a grey background color */
    .checkbox-container:hover input~.checkmark {
       background-color: #ccc;
    }

    /* When the checkbox is checked, add a blue background */
    .checkbox-container input:checked~.checkmark {
       background-color: #2196F3;
    }

    /* Create the checkmark/indicator (hidden when not checked) */
    .checkmark:after {
       content: "";
       position: absolute;
       display: none;
    }

    /* Show the checkmark when checked */
    .checkbox-container input:checked~.checkmark:after {
       display: block;
    }

    /* Style the checkmark/indicator */
    .checkbox-container .checkmark:after {
       left: 10px;
       top: 7px;
       width: 5px;
       height: 10px;
       border: solid white;
       border-width: 0 3px 3px 0;
       -webkit-transform: rotate(45deg);
       -ms-transform: rotate(45deg);
       transform: rotate(45deg);
    }
 </style>
  <title>5.2 Employee responsibilities </title>
</head><body><div class="container-fluid data">
<div class="row">
<div class="col-12 offset-md-1 col-md-10 offset-lg-2 col-lg-8">
<h1><span style="color: rgb(73, 60, 105); font-family: tahoma, sans-serif;">Employee responsibilities</span></h1>
<p><span style="font-family: tahoma, sans-serif; font-size: 19px;">Employees must follow the procedures and instructions provided by the employer concerning employee health and safety. This includes following procedures and instructions to control physical and psychosocial hazards, to prevent physical and psychological injuries and illnesses, and to prevent and resolve workplace harassment and violence.</span></p>
<figure style="width: 100%;" class="figure">
<p><span style="font-family: tahoma, sans-serif; font-size: 19px;"><img height="auto" width="100%" src="Mental_Health_atw/EN/img/CSPS_1.18-01.svg" class="img-fluid" alt="a woman in professional attire standing. Her shadow shows her plus a superhero cape."></span></p>
<figcaption></figcaption>
</figure>
<p><span style="font-family: tahoma, sans-serif; font-size: 19px;">For instance, employees must follow the procedures described in their employer’s workplace harassment and violence prevention policy to report workplace harassment and violence incidents. Employees have an obligation to report harassment and violence incidents to the designated recipient unit so that appropriate action can be taken to resolve the incident and prevent recurrence. Under the employer’s workplace harassment and violence prevention policy, employees also have the responsibility to refrain from perpetrating harassment and violence.</span></p>
<hr>
<h2><span style="font-family: tahoma, sans-serif; font-size: 19px;"><strong><span style="color: rgb(73, 60, 105);">Managers’ responsibilities</span></strong></span></h2>
<p><span style="font-family: tahoma, sans-serif; font-size: 19px;">Managers have additional responsibilities regarding mental health and the workplace. Are you a manager or are you interested in learning about managers’ considerations regarding their employees’ mental health?</span></p>
<span style="font-family: tahoma, sans-serif; font-size: 19px;"><!-- <p>Yes: release condition to unlock pages 5.3 and 5.4</p>
        <p>No: skip to next module</p> --></span>
<div class="card card-standard">
<div class="card-body">
<p class="card-text"><span style="font-family: tahoma, sans-serif; font-size: 19px;"><label class="checkbox-container"><span style="font-size: 19px;"> Yes, I would like to learn about managers' responsibilities</span><input type="checkbox" id="accept"> <span class="checkmark"></span> </label></span></p>
<label class="checkbox-container"><span style="font-family: tahoma, sans-serif; font-size: 19px;"> No, take me directly to the next module</span> <input type="checkbox" id="decline"><span class="checkmark"></span></label></div>
</div>
</div>
</div>
</div>
<p><span style="font-family: tahoma, sans-serif;">
<script src="/shared/LCS_HTML_Templates/CSPS_Template_2021/_assets/thirdpartylib/jquery/jquery-3.3.1.slim.min.js"></script>
<script src="/shared/LCS_HTML_Templates/CSPS_Template_2021/_assets/thirdpartylib/popper-js/popper.min.js"></script>
<script src="/shared/LCS_HTML_Templates/CSPS_Template_2021/_assets/thirdpartylib/bootstrap-4.3.1/js/bootstrap.min.js"></script>
</span></p>
<p><span style="font-family: tahoma, sans-serif;"><!-- Template JavaScript --></span></p>
<p><span style="font-family: tahoma, sans-serif;">
<script src="/shared/LCS_HTML_Templates/CSPS_Template_2021/_assets/js/scripts.min.js"></script>
</span></p>
<p>
<script>
    const checkbox = document.getElementById('accept');

    const checkboxNo = document.getElementById('decline');

    let orgUnitId = "";

    let folderId = "";

 

    if (checkbox.checked) {

      checkbox.disabled = true;

      checkboxNo.disabled = true;

    }

 

    if (checkboxNo.checked) {

       checkbox.disabled = true;

       checkboxNo.disabled = true;

    }

 

    checkbox.addEventListener('click', function () {

       postSubmission();

       checkbox.disabled = true;

       checkboxNo.disabled = true;

    });

 

    checkboxNo.addEventListener('click', function () {


       checkbox.disabled = true;

       checkboxNo.disabled = true;

    });

 

    async function checkForPreviousSubmission() {

       const userid = await getIdentifier();

       const submissions = await getSubmissions();

       submissions?.forEach((submission) => {

          if (submission.Submissions[0].SubmittedBy.Identifier === userid) {

             checkbox.disabled = true;

             checkbox.checked = true;

             checkboxNo.disabled = true;

          }

       });

    }
  window.onload = function () {
       checkForPreviousSubmission();
    }

    async function getIdentifier() {
       const res = await fetch("/d2l/api/lp/1.31/users/whoami")
          .then((res) => res.json())

       return res.Identifier;
    }
    async function getSubmissions() {
       const res = await fetch(
          "/d2l/api/le/1.51/12107/dropbox/folders/1124/submissions/"
       )
          .then((res) => res.json())

       return res;
    }

    function postSubmission() {
       const templates = {
          uploadDropbox:
             '--xxBOUNDARYxx\r\nContent-Type: application/json\r\n\r\n{"Text": "fdesc", "Html": "fhtml"}\r\n--xxBOUNDARYxx\r\nContent-Disposition: form-data; name=""; filename="fname"\r\nContent-Type: ftype\r\n\r\n~fdata~\r\n--xxBOUNDARYxx--',
          uploadCourseContent:
             '--xxBOUNDARYxx\r\nContent-Type: application/json\r\n\r\n{"IsHidden": false, "IsLocked": false, "ShortTitle": "Simple File Upload", "Type": 1, "DueDate": null, "Url": "furl", "StartDate": null, "TopicType": 1, "EndDate": null, "Title": "Simple File Upload"}\r\n--xxBOUNDARYxx\r\nContent-Disposition: form-data; name=""; filename="fname"\r\nContent-Type: ftype\r\n\r\nfdata\r\n--xxBOUNDARYxx--',
       };
       let template = templates.uploadDropbox;
       let content = "yes";
       template = template
          .replace("fname", "submission.txt")
          .replace("ftype", "text/html")
          .replace("fdesc", "submission")
          .replace("fhtml", content);
       const fileArray = template.split("~");
       fileArray[1] = content;
       const blob = new Blob(fileArray);

       const headers = {
          "Content-Type": "multipart/mixed; boundary=xxBOUNDARYxx;",
          "Access-Control-Origin": "*",
          "X-Csrf-Token": localStorage["XSRF.Token"],
       };

       fetch("/d2l/api/le/1.51/12107/dropbox/folders/1124/submissions/mysubmissions/", {
          method: "POST",
          headers: headers,
          credentials: "include",
          body: blob,
       });
    }
 </script>
</p></body></html>